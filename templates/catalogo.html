{% extends 'base.html' %}
{% block title %}Catálogo · Bienes Raíces Boutique{% endblock %}

{% block content %}
<section class="relative overflow-hidden bg-white/70 py-16">
    <div class="mx-auto max-w-7xl px-6">
        <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
            <div class="max-w-2xl space-y-4 animate-on-scroll">
                <span class="inline-flex items-center gap-2 rounded-full bg-emerald-100 px-4 py-1 text-sm font-semibold text-emerald-600"><i class="fa-solid fa-leaf"></i> Selección curada</span>
                <h1 class="section-title text-4xl">Encuentra un espacio que hable tu idioma</h1>
                <p class="text-lg text-slate-600">Explora nuestro catálogo de propiedades residenciales y comerciales en las zonas más deseadas. Filtramos cada opción para brindarte calidad, ubicación y estilo.</p>
            </div>
            <div class="glass-card max-w-sm space-y-4 p-6 text-sm text-slate-600 animate-on-scroll">
                <h2 class="text-lg font-semibold text-slate-900">¿Necesitas inspiración?</h2>
                <p>Estamos listos para enviarte un dossier personalizado con opciones exclusivas según tus preferencias.</p>
                <a class="btn-primary w-full justify-center" href="#contacto"><i class="fa-solid fa-envelope"></i> Solicitar asesoría</a>
            </div>
        </div>
        <div class="mt-12 grid gap-4 md:grid-cols-3">
            <div class="glass-card flex items-center gap-3 rounded-2xl px-5 py-4 text-sm text-slate-500 animate-on-scroll">
                <i class="fa-solid fa-map-location-dot text-rose-400"></i>
                <span>Zonas premium · Monterrey, San Pedro, Santa Catarina</span>
            </div>
            <div class="glass-card flex items-center gap-3 rounded-2xl px-5 py-4 text-sm text-slate-500 animate-on-scroll">
                <i class="fa-solid fa-credit-card text-emerald-400"></i>
                <span>Financiamiento flexible y asesoría hipotecaria</span>
            </div>
            <div class="glass-card flex items-center gap-3 rounded-2xl px-5 py-4 text-sm text-slate-500 animate-on-scroll">
                <i class="fa-solid fa-lock text-blue-400"></i>
                <span>Procesos seguros y contratos transparentes</span>
            </div>
        </div>
    </div>
</section>

<section class="relative py-16">
    <div class="mx-auto max-w-7xl px-6">
        <div class="flex flex-col gap-6 pb-10 sm:flex-row sm:items-center sm:justify-between">
            <h2 class="section-title text-3xl animate-on-scroll">Propiedades disponibles</h2>
            <div class="glass-card flex w-full max-w-xl flex-wrap items-center gap-3 rounded-2xl px-4 py-3 text-sm text-slate-500 animate-on-scroll">
                <i class="fa-solid fa-filter text-rose-400"></i>
                <span>Utiliza el panel administrativo para agregar nuevas propiedades o actualizar la información existente.</span>
            </div>
        </div>
        {% if properties %}
            <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                {% for property in properties %}
                    <article class="group glass-card overflow-hidden transition-transform duration-500 hover:-translate-y-2 animate-on-scroll">
                        <div class="relative h-56 overflow-hidden">
                            <img src="{{ url_for('static', filename=property.main_image.split('static/')[-1]) if property.main_image else 'https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?auto=format&fit=crop&w=1200&q=80' }}" alt="Imagen de {{ property.name }}" class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105" />
                            <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 via-slate-900/0"></div>
                            <div class="absolute bottom-4 left-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-600">
                                {{ property.location }}
                            </div>
                        </div>
                        <div class="space-y-4 px-6 py-5">
                            <div class="flex items-start justify-between gap-3">
                                <h3 class="text-xl font-semibold text-slate-900">{{ property.name }}</h3>
                                <span class="rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-600">Disponible</span>
                            </div>
                            <p class="text-sm text-slate-600">{{ property.description }}</p>
                            <div class="flex items-center justify-between border-t border-slate-100 pt-4">
                                <span class="text-lg font-semibold text-rose-500">${{ '%.2f'|format(property.price) }}</span>
                                <a href="{{ url_for('property_detail', property_id=property.id) }}" class="inline-flex items-center gap-2 text-sm font-semibold text-slate-700 transition-colors hover:text-rose-500">
                                    Ver detalles <i class="fa-solid fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                {% endfor %}
            </div>
        {% else %}
            <div class="glass-card p-10 text-center animate-on-scroll">
                <h3 class="text-2xl font-semibold text-slate-900">Aún no hay propiedades registradas</h3>
                <p class="mt-3 text-slate-600">Inicia sesión en el panel administrativo para cargar la primera propiedad y verás tu catálogo aquí mismo.</p>
                <div class="mt-6 flex justify-center gap-4">
                    {% if not session.get('logged_in') %}
                        <a class="btn-primary" href="{{ url_for('login') }}"><i class="fa-solid fa-user"></i> Iniciar sesión</a>
                    {% endif %}
                    <a class="btn-secondary" href="{{ url_for('index') }}"><i class="fa-solid fa-arrow-left"></i> Volver al inicio</a>
                </div>
            </div>
        {% endif %}
    </div>
</section>
{% endblock %}
